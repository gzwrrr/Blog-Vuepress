import{_ as p,Q as l,S as i,U as n,a8 as a,W as e,a9 as t,H as c}from"./framework-d7e1aa10.js";const o={},u=n("h1",{id:"链路追踪-skywalking",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#链路追踪-skywalking","aria-hidden":"true"},"#"),a(" 链路追踪-SkyWalking")],-1),r=n("h2",{id:"安装",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),a(" 安装")],-1),k={class:"hint-container info"},d=n("p",{class:"hint-container-title"},"相关文章",-1),v={href:"https://blog.csdn.net/Ltp_Ltp/article/details/122173914",target:"_blank",rel:"noopener noreferrer"},m={href:"https://blog.csdn.net/youlinhuanyan/article/details/120922729%EF%BC%88%E8%BF%99%E4%B8%AA%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%9C%89%E7%82%B9%E9%94%99%E8%AF%AF%EF%BC%8C%E7%9C%8B%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%B0%B1%E8%A1%8C%EF%BC%8C%E5%85%B6%E4%BB%96%E6%AD%A5%E9%AA%A4%E6%8C%89%E7%85%A7%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%E7%9A%84%E6%9D%A5%E5%B0%B1%E5%8F%AF%E4%BB%A5%EF%BC%89",target:"_blank",rel:"noopener noreferrer"},g=t(`<div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3.3&#39;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">elasticsearch</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> elasticsearch<span class="token punctuation">:</span>7.14.2
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> elasticsearch
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 9200<span class="token punctuation">:</span><span class="token number">9200</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery.type</span><span class="token punctuation">:</span> single<span class="token punctuation">-</span>node
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /docker/elasticsearch/logs<span class="token punctuation">:</span>/usr/share/elasticsearch/logs
      <span class="token punctuation">-</span> /docker/elasticsearch/data<span class="token punctuation">:</span>/usr/share/elasticsearch/data
  <span class="token key atrule">skywalking-oap</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> apache/skywalking<span class="token punctuation">-</span>oap<span class="token punctuation">-</span>server<span class="token punctuation">:</span><span class="token punctuation">:</span>8.9.1
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> skywalking<span class="token punctuation">-</span>oap
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> elasticsearch
    <span class="token key atrule">links</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> elasticsearch
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 11800<span class="token punctuation">:</span><span class="token number">11800</span>
      <span class="token punctuation">-</span> 12800<span class="token punctuation">:</span><span class="token number">12800</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">SW_STORAGE</span><span class="token punctuation">:</span> elasticsearch <span class="token comment"># 指定ES</span>
      <span class="token key atrule">SW_STORAGE_ES_CLUSTER_NODES</span><span class="token punctuation">:</span> elasticsearch<span class="token punctuation">:</span><span class="token number">9200</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
  <span class="token key atrule">sykwolking-ui</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> apache/skywalking<span class="token punctuation">-</span>ui<span class="token punctuation">:</span>8.9.1
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> sykwolking<span class="token punctuation">-</span>ui
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> skywalking<span class="token punctuation">-</span>oap
    <span class="token key atrule">links</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> skywalking<span class="token punctuation">-</span>oap
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8088<span class="token punctuation">:</span><span class="token number">8080</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">SW_OAP_ADDRESS</span><span class="token punctuation">:</span> skywalking<span class="token punctuation">-</span>oap<span class="token punctuation">:</span><span class="token number">12800</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Java 应用探针上报：</p>`,2),h={href:"https://skywalking.apache.org/downloads/#JavaAgent",target:"_blank",rel:"noopener noreferrer"},y=t(`<p>下载完成后修改 <code>conf/agent.config</code> 中的 <code>backend_service</code> 的地址</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">collector.backend_service</span><span class="token operator">=</span><span class="token variable">\${SW_AGENT_COLLECTOR_BACKEND_SERVICES<span class="token operator">:</span>&lt;yourhost&gt;<span class="token operator">:</span>11800}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Java 程序启动时带上 JVM 参数：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>-javaagent:<span class="token operator">&lt;</span>path<span class="token operator">&gt;</span><span class="token punctuation">\\</span>skywalking-agent<span class="token punctuation">\\</span>skywalking-agent.jar <span class="token parameter variable">-Dskywalking.agent.service_name</span><span class="token operator">=</span><span class="token operator">&lt;</span>servicename<span class="token operator">&gt;</span> <span class="token parameter variable">-Dskywalking.logging.file_name</span><span class="token operator">=</span><span class="token operator">&lt;</span>logfilename<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>全部服务启动成功后：</p><figure><img src="https://my-photos-1.oss-cn-hangzhou.aliyuncs.com/markdown//skywalking/20230429/skywalking面板.png" alt="image-20230429215629159" tabindex="0" loading="lazy"><figcaption>image-20230429215629159</figcaption></figure><figure><img src="https://my-photos-1.oss-cn-hangzhou.aliyuncs.com/markdown//skywalking/20230429/skywalking拓扑图.png" alt="image-20230429215825844" tabindex="0" loading="lazy"><figcaption>image-20230429215825844</figcaption></figure><figure><img src="https://my-photos-1.oss-cn-hangzhou.aliyuncs.com/markdown//skywalking/20230429/skywalking链路追踪.png" alt="image-20230429220053892" tabindex="0" loading="lazy"><figcaption>image-20230429220053892</figcaption></figure>`,8);function b(_,E){const s=c("ExternalLinkIcon");return l(),i("div",null,[u,r,n("div",k,[d,n("p",null,[n("a",v,[a("https://blog.csdn.net/Ltp_Ltp/article/details/122173914"),e(s)])]),n("p",null,[n("a",m,[a("https://blog.csdn.net/youlinhuanyan/article/details/120922729（这个的配置文件有点错误，看下面的就行，其他步骤按照这篇文章的来就可以）"),e(s)])])]),g,n("blockquote",null,[n("p",null,[a("Java Agent 下载地址："),n("a",h,[a("https://skywalking.apache.org/downloads/#JavaAgent"),e(s)])])]),y])}const f=p(o,[["render",b],["__file","C-链路追踪-SkyWalking.html.vue"]]);export{f as default};
